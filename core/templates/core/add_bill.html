{% extends 'core/base.html' %}

{% block content %}
<h1>Add New Bill</h1>

<form method="POST">
    {% csrf_token %}
    
    <label for="customer">Select Customer:</label>
    <select name="customer" id="customer" required>
        {% for customer in customers %}
        <option value="{{ customer.id }}">{{ customer.name }} ({{ customer.customer_id }})</option>
        {% endfor %}
    </select>

    <h3>Waste Items</h3>
    {% for item in waste_items %}
        <div>
            <label>{{ item.name }} ({{ item.unit_price }} per unit): </label>
            <input type="number" 
                   name="quantity_{{ item.id }}" 
                   min="0" 
                   step="0.01"   <!-- allow decimal quantities -->
                   value="0">
        </div>
    {% endfor %}

    <button type="submit">Create Bill</button>
</form>

<a href="{% url 'core:bill_list' %}">Back to Bills</a>
{% endblock %}
